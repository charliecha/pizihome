## JVM运行时数据区

![image-20190320224357489](https://ws1.sinaimg.cn/large/006tKfTcly1g19n5mlr6sj316u0riwiw.jpg)

JVM运行时数据区分为：

1、线程独享数据

程序计数器 程序执行的位置

虚拟机栈：管理一个一个栈帧，每个方法会有一个栈帧

每个栈帧：

局部变量表

操作数栈

动态链接 

返回地址 

2、线程共享数据

方法区：存放类、静态方法、常量以及编译后的代码

堆：存放对象和数组

堆分代管理：分为新生代1/3+老年代2/3

新生代分为 Eden 区 + From + To

Eden区80%，对象在 Eden 区中创建，经过 GC15次以后，转移到 From/To 中

新生代使用标记复制算法回收对象

老年代使用标记清除算法+标记整理算法。

对象是否回收，通过判断对象是否被 GCRoot 到达。可以作为 GCRoot 的对象包括，常量和栈中对象。

